"use strict";const o=require("electron"),i=require("path");function s(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const a=s(i);function r(){const e=new o.BrowserWindow({width:1200,height:800,webPreferences:{preload:a.join(__dirname,"preload.js"),nodeIntegration:!1,contextIsolation:!0},titleBarStyle:"default",backgroundColor:"#050505",trafficLightPosition:{x:15,y:15}});if(console.log("Electron Window Created. Target URL:",process.env.VITE_DEV_SERVER_URL),e.webContents.openDevTools(),process.env.VITE_DEV_SERVER_URL)e.loadURL(process.env.VITE_DEV_SERVER_URL);else{const t=a.join(__dirname,"../dist/index.html");console.log("VITE_DEV_SERVER_URL not set. Attempting fallback to http://localhost:5173"),e.loadURL("http://localhost:5173").catch(()=>{console.log("Localhost failed, loading file:",t),e.loadFile(t)})}}o.app.whenReady().then(()=>{r(),o.app.on("activate",()=>{o.BrowserWindow.getAllWindows().length===0&&r()})});o.app.on("window-all-closed",()=>{process.platform!=="darwin"&&o.app.quit()});
